Written for version 0.4
May have changed since then

# this manual will not support to change the default installation path
# you need to replace all variables leading 'GA_'
#  GA_SETUP_TYPE will normally be 'standalone'
#  GA_LOG_LEVEL will normally be '1'

### Install manually
- install software packages
  - install python 3.8 or higher -> you might need to compile it from source
    you can find a compiler script here: https://git.growautomation.at/blob/master/setup/python/
    If you run version 3.8.2 you will run into a bug when using the shared_memory module.
          You can apply this hotfix to work around this bug:
          - Edit file: /usr/local/lib/python3.8/multiprocessing/shared_memory.py
            - line 115 -> add '{12x whitespace}if create:'
            - line 116/117 -> add '{4x leading whitespace}'
          - This commands will automate this process for you:
            - sed -i '115 a \            if create:' /usr/local/lib/python3.8/multiprocessing/shared_memory.py
            - sed -i 's/from .resource_tracker import register/\    &/g' /usr/local/lib/python3.8/multiprocessing/shared_memory.py
            - sed -i 's/register(self._name, \"shared_memory\")/\    &/g' /usr/local/lib/python3.8/multiprocessing/shared_memory.py
  - apt-get -y install git mariadb-server mariadb-client
  - /usr/bin/python3.8 -m pip install systemd mysql-connector-python RPi.GPIO --default-timeout=100
  - you may need to install other python3 modules for your needed sensors
    more information: https://git.growautomation.at/blob/master/manual/hardware/
- install growautomation
  - install core
    cd /tmp
    useradd growautomation
    git clone https://github.com/growautomation-at/controller.git --depth=1
    mkdir /etc/growautomation
    cp -r /tmp/controller/code/agent/* /etc/growautomation
    chown -R growautomation:growautomation /etc/growautomation
    find /etc/growautomation -type f -iname '*.py' -exec chmod 754 {} ;
    find /etc/growautomation -type f -iname '*.sh' -exec chmod 754 {} ;
  - configure database
    - mysql_secure_installation -> set pwd and apply all security options
    - add database 'ga'
    - add backup user
      - DROP USER 'GA_DB_BACKUP_USER'@'localhost';
      - CREATE USER 'GA_DB_BACKUP_USER'@'localhost' IDENTIFIED BY 'GA_DB_BACKUP_PASSWORD';
      - GRANT SELECT, LOCK TABLES, SHOW VIEW, EVENT, TRIGGER ON *.* TO 'GA_DB_BACKUP_USER'@'localhost' IDENTIFIED BY 'GA_DB_BACKUP_PASSWORD';
    - add db admin user
      - CREATE USER 'GA_DB_ADMIN_USER'@'localhost' IDENTIFIED BY 'GA_DB_ADMIN_PASSWORD';
      - GRANT ALL ON ga.* TO 'GA_DB_ADMIN_USER'@'localhost' IDENTIFIED BY 'GA_DB_ADMIN_PASSWORD';
  - add config files
    - create version file
      printf "version=GA_VERSION_NR\npath_root=/etc/growautomation\nhostname=GA_HOSTNAME\nsetuptype=GA_SETUP_TYPE" > /etc/growautomation.version
    - create core config file
      - printf "[core]\npath_root=/etc/growautomation\nhostname=GA_HOSTNAME\nsetuptype=GA_SETUP_TYPE\nlog_level=GA_LOG_LEVEL" > /etc/growautomation/core/core.conf
      - printf "[db_server]\nsql_admin_user=GA_DB_ADMIN_USER\nsql_admin_pwd=GA_DB_ADMIN_PASSWORD" >> /etc/growautomation/core/core.conf
      - chown growautomation:growauotmation /etc/growautomation/core/core.conf
      - chmod 440 /etc/growautomation/core/core.conf
    - add credentials for db backup
      - printf "[mysqldump]\nuser=GA_DB_BACKUP_USER\npassword=GA_DB_BACKUP_PASSWORD\n" > /etc/mysql/conf.d/ga.mysqldump.cnf
  - add sensor/action/downlink functions following the documentation: https://git.growautomation.at/blob/master/manual/agent/
- add ga service
  - systemctl link /etc/growautomation/service/systemd/growautomation.service
  - systemctl enable growautomation.service
  - systemctl daemon-reload
- add basic configuration to db
  - core config
    run the config module with the start argument: "/etc/growautomation/maintenance/config_interface.py start"
